/*
*Designed by Jonathan Nungaray
*@Jonatthu
*/

var $ = $;

$(document).on('click', '.closemodal, .bg', function(){
	$(".msgmodal, .bg").fadeOut();
});

$(document).ready(function () {
	var success = $('.msgmodal').attr('id');
	if ( success === "success") {
		setTimeout(function() {
			window.location="/home";
		}, 3000);
	}
});

function fadeContent(options) {
    "use strict";
    $(options["tag"]).removeClass('active');
    $('#' + options['id']).addClass('active');
    $(options['tagTarget']).fadeOut("fast");

    setTimeout(function () {
        $("#" + options['target']).fadeIn();
    }, 400);
}

if (window.location.hash == "#signup") {
    fadeContent({
        id: "regM",
        tag: "#menu div",
        tagTarget: "#session #login",
        target: "signup"
    });
}

$(document).on('click', '#regM, #logM', function () {
    'use strict';
    var location = $(this).attr("id");
    if (location == "regM") {
        window.location.hash = 'signup';
    } else {
        window.location.hash = 'login';
    }
});

$(document).on('click', '#menu div', function () {
    "use strict";

    fadeContent({
        id: $(this).attr("id"),
        target: $(this).attr("data-target"),
        tag: '#menu div',
        tagTarget: '#session #login, #session #signup'
    });
});




$(function () {
    $('#regForm').validate({
        rules: {
           email: {
                required: true,
                email: true
            },
             pwd: {
                required: true,
                minlength: 6,
                maxlength: 12
                 
            },
            user: {
                required: true, 
                minlength: 6,
                maxlength: 12
            }
        }, 
        messages: {
            email: {
                required: "<div class='red'>Debe ingresar el e-mail.</div>",
                email: "<div class='red'>Debe ingresar un e-mail válido.</div>"
            },
            user: {
                required: "<div class='red'>Debe ingresar un nombre.</div>",
                minlength: "<div class='red'>El nombre debe tener un minimo de 6 caracteres.</div>",
                maxlength: "<div class='red'>El nombre debe tener un máximo de 12 caracteres.</div>"
            },
             
            pwd: {
                required: "<div class='red'>Debe ingresar una contraseña.</div>",
                minlength: "<div class='red'>El nombre debe tener un minimo de 6 caracteres.</div>",
                maxlength: "<div class='red'>El nombre debe tener un máximo de 12 caracteres.</div>"
            }
        }
    });
});


$(function () {
    $('#sessionForm').validate({
        rules: {
            pwd: {
                required: true,
                minlength: 6,
                maxlength: 12
            },
            email: { 
                email: true,
                required: true,

            }
        },
        messages: {
            email: {
                required: "<div class='red'>Debe ingresar el e-mail.</div>",
                email: "<div class='red'>Debe ingresar un e-mail válido.</div>"
            },
            pwd: {
                required: "<div class='red'>Debe ingresar una contraseña.</div>",
                minlength: "<div class='red'>El nombre debe tener un minimo de 6 caracteres.</div>",
                maxlength: "<div class='red'>El nombre debe tener un máximo de 12 caracteres.</div>"
            }
        }
    });
});










